{"ast":null,"code":"import _classCallCheck from\"E:/\\u043D\\u043E\\u0432\\u044B\\u0439 \\u0431\\u0440\\u0430\\u043D\\u0447/OnlineStore/OnlineStore/src/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"E:/\\u043D\\u043E\\u0432\\u044B\\u0439 \\u0431\\u0440\\u0430\\u043D\\u0447/OnlineStore/OnlineStore/src/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"E:/\\u043D\\u043E\\u0432\\u044B\\u0439 \\u0431\\u0440\\u0430\\u043D\\u0447/OnlineStore/OnlineStore/src/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"E:/\\u043D\\u043E\\u0432\\u044B\\u0439 \\u0431\\u0440\\u0430\\u043D\\u0447/OnlineStore/OnlineStore/src/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{DataContext}from'../Context';import{Link}from'react-router-dom';import'../css/Details.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Details=/*#__PURE__*/function(_Component){_inherits(Details,_Component);var _super=_createSuper(Details);function Details(){var _this;_classCallCheck(this,Details);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={product:[],index:0};_this.myRef=/*#__PURE__*/React.createRef();_this.getProduct=function(){if(_this.props.match.params.id){var res=_this.context.products;var data=res.filter(function(item){return item._id===_this.props.match.params.id;});_this.setState({product:data});}};_this.handleTab=function(index){_this.setState({index:index});var images=_this.myRef.current.children;for(var i=0;i<images.length;i++){images[i].className=images[i].className.replace(\"active\",\"\");}images[index].className=\"active\";};return _this;}_createClass(Details,[{key:\"componentDidMount\",value:function componentDidMount(){this.getProduct();}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,product=_this$state.product,index=_this$state.index;var addCart=this.context.addCart;return/*#__PURE__*/_jsx(_Fragment,{children:product.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product_img\",children:/*#__PURE__*/_jsx(\"img\",{src:item.src[index],alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"h2\",{children:item.title}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",item.price]})]}),/*#__PURE__*/_jsx(\"p\",{children:item.description}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Color: \",/*#__PURE__*/_jsx(\"span\",{children:item.color})]}),/*#__PURE__*/_jsx(\"p\",{children:item.content}),/*#__PURE__*/_jsx(\"div\",{className:\"images\",ref:_this2.myRef,children:item.src.map(function(img,index){return/*#__PURE__*/_jsx(\"img\",{src:img,alt:\"\",onClick:function onClick(){return _this2.handleTab(index);}},index);})}),/*#__PURE__*/_jsx(Link,{to:\"/cart\",className:\"cart\",onClick:function onClick(){return addCart(item._id);},children:\"Add to cart\"})]})]},item._id);})});}}]);return Details;}(Component);Details.contextType=DataContext;export default Details;","map":{"version":3,"sources":["E:/новый бранч/OnlineStore/OnlineStore/src/frontend/src/components/section/Details.js"],"names":["React","Component","DataContext","Link","Details","state","product","index","myRef","createRef","getProduct","props","match","params","id","res","context","products","data","filter","item","_id","setState","handleTab","images","current","children","i","length","className","replace","addCart","map","src","title","price","description","color","content","img","contextType"],"mappings":"g2BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,KAA4B,YAA5B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,oBAAP,C,6IAEA,UAAaC,CAAAA,OAAb,+TAEIC,KAFJ,CAEY,CACJC,OAAO,CAAE,EADL,CAEJC,KAAK,CAAE,CAFH,CAFZ,OAOIC,KAPJ,cAOYR,KAAK,CAACS,SAAN,EAPZ,OASIC,UATJ,CASiB,UAAM,CACf,GAAI,MAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EAA5B,CAAgC,CAC5B,GAAMC,CAAAA,GAAG,CAAG,MAAKC,OAAL,CAAaC,QAAzB,CACA,GAAMC,CAAAA,IAAI,CAAGH,GAAG,CAACI,MAAJ,CAAW,SAAAC,IAAI,CAAI,CAC5B,MAAOA,CAAAA,IAAI,CAACC,GAAL,GAAa,MAAKV,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EAA5C,CACH,CAFY,CAAb,CAGA,MAAKQ,QAAL,CAAc,CAAEhB,OAAO,CAAEY,IAAX,CAAd,EACH,CACJ,CAjBL,OAuBIK,SAvBJ,CAuBgB,SAAAhB,KAAK,CAAI,CACjB,MAAKe,QAAL,CAAc,CAACf,KAAK,CAAEA,KAAR,CAAd,EACA,GAAMiB,CAAAA,MAAM,CAAG,MAAKhB,KAAL,CAAWiB,OAAX,CAAmBC,QAAlC,CACA,IAAI,GAAIC,CAAAA,CAAC,CAAE,CAAX,CAAcA,CAAC,CAAGH,MAAM,CAACI,MAAzB,CAAiCD,CAAC,EAAlC,CAAsC,CAClCH,MAAM,CAACG,CAAD,CAAN,CAAUE,SAAV,CAAsBL,MAAM,CAACG,CAAD,CAAN,CAAUE,SAAV,CAAoBC,OAApB,CAA4B,QAA5B,CAAsC,EAAtC,CAAtB,CACH,CACDN,MAAM,CAACjB,KAAD,CAAN,CAAcsB,SAAd,CAA0B,QAA1B,CACH,CA9BL,oEAmBI,4BAAoB,CAChB,KAAKnB,UAAL,GACH,CArBL,sBAgCI,iBAAS,iBACL,gBAA2B,KAAKL,KAAhC,CAAQC,OAAR,aAAQA,OAAR,CAAiBC,KAAjB,aAAiBA,KAAjB,CACA,GAAQwB,CAAAA,OAAR,CAAoB,KAAKf,OAAzB,CAAQe,OAAR,CACA,mBACI,yBAEQzB,OAAO,CAAC0B,GAAR,CAAY,SAAAZ,IAAI,qBACZ,aAAK,SAAS,CAAC,SAAf,wBACI,YAAK,SAAS,CAAC,aAAf,uBACI,YAAK,GAAG,CAAEA,IAAI,CAACa,GAAL,CAAS1B,KAAT,CAAV,CAA2B,GAAG,CAAC,EAA/B,EADJ,EADJ,cAII,aAAK,SAAS,CAAC,KAAf,wBACI,aAAK,SAAS,CAAC,KAAf,wBACI,oBAAKa,IAAI,CAACc,KAAV,EADJ,cAEI,4BAAQd,IAAI,CAACe,KAAb,GAFJ,GADJ,cAKI,mBAAIf,IAAI,CAACgB,WAAT,EALJ,cAMI,4CAAU,sBAAOhB,IAAI,CAACiB,KAAZ,EAAV,GANJ,cAOI,mBAAIjB,IAAI,CAACkB,OAAT,EAPJ,cASI,YAAK,SAAS,CAAC,QAAf,CAAwB,GAAG,CAAE,MAAI,CAAC9B,KAAlC,UAEQY,IAAI,CAACa,GAAL,CAASD,GAAT,CAAa,SAACO,GAAD,CAAMhC,KAAN,qBACT,YAAK,GAAG,CAAEgC,GAAV,CAAe,GAAG,CAAC,EAAnB,CACI,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAChB,SAAL,CAAehB,KAAf,CAAN,EADb,EAA2BA,KAA3B,CADS,EAAb,CAFR,EATJ,cAmBI,KAAC,IAAD,EAAM,EAAE,CAAC,OAAT,CAAiB,SAAS,CAAC,MAA3B,CAAkC,OAAO,CAAE,yBAAMwB,CAAAA,OAAO,CAACX,IAAI,CAACC,GAAN,CAAb,EAA3C,yBAnBJ,GAJJ,GAA8BD,IAAI,CAACC,GAAnC,CADY,EAAhB,CAFR,EADJ,CAoCH,CAvEL,qBAA6BpB,SAA7B,EAAaG,O,CACFoC,W,CAActC,W,CAyEzB,cAAeE,CAAAA,OAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport { DataContext } from '../Context'\r\nimport { Link } from 'react-router-dom'\r\nimport '../css/Details.css'\r\n\r\nexport class Details extends Component {\r\n    static contextType = DataContext;\r\n    state = {\r\n        product: [], \r\n        index: 0\r\n    };\r\n\r\n    myRef = React.createRef();\r\n\r\n    getProduct = () => {\r\n        if (this.props.match.params.id) {\r\n            const res = this.context.products;\r\n            const data = res.filter(item => {\r\n                return item._id === this.props.match.params.id\r\n            })\r\n            this.setState({ product: data })\r\n        }\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.getProduct();\r\n    }\r\n\r\n    handleTab = index => {\r\n        this.setState({index: index});\r\n        const images = this.myRef.current.children;\r\n        for(let i =0; i < images.length; i++) {\r\n            images[i].className = images[i].className.replace(\"active\", \"\")\r\n        }\r\n        images[index].className = \"active\";\r\n    };\r\n\r\n    render() {\r\n        const { product, index } = this.state;\r\n        const { addCart } = this.context;\r\n        return (\r\n            <>\r\n                {\r\n                    product.map(item => (\r\n                        <div className=\"details\" key={item._id}>\r\n                            <div className=\"product_img\">\r\n                                <img src={item.src[index]} alt=\"\" />\r\n                            </div>\r\n                            <div className=\"box\">\r\n                                <div className=\"row\">\r\n                                    <h2>{item.title}</h2>\r\n                                    <span>${item.price}</span>\r\n                                </div>\r\n                                <p>{item.description}</p>\r\n                                <p>Color: <span>{item.color}</span></p>\r\n                                <p>{item.content}</p>\r\n\r\n                                <div className=\"images\" ref={this.myRef}>\r\n                                    {\r\n                                        item.src.map((img, index) => (\r\n                                            <img src={img} alt=\"\" key={index} \r\n                                                onClick={() => this.handleTab(index)}\r\n                                            />\r\n                                        ))\r\n                                    }\r\n                                </div>\r\n\r\n                                <Link to=\"/cart\" className=\"cart\" onClick={() => addCart(item._id)}>\r\n                                    Add to cart\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Details\r\n"]},"metadata":{},"sourceType":"module"}