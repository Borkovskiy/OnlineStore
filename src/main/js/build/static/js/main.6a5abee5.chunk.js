(this["webpackJsonponline-store"]=this["webpackJsonponline-store"]||[]).push([[0],{102:function(e,t,c){},103:function(e,t,c){},104:function(e,t,c){},132:function(e,t,c){},133:function(e,t,c){},134:function(e,t,c){},143:function(e,t,c){},146:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(12),i=c.n(r),s=(c(102),c(28)),o=c(20),l=c(47),j=c(46),d=c(13),b=c.p+"static/media/bars-solid.e8db7520.svg",u=c.p+"static/media/times-solid.ea7c95d7.svg",h=c.p+"static/media/shopping-cart-solid.d146d6c3.svg",O=(c(103),c(11)),x=c(9),m=(c(104),c(54)),p=c.n(m),g=c(2),f=Object(n.createContext)(),v=function(e){var t=Object(n.useState)([]),c=Object(x.a)(t,2),a=c[0],r=c[1],i=Object(n.useState)([]),s=Object(x.a)(i,2),o=s[0],l=s[1],j=Object(n.useState)(0),d=Object(x.a)(j,2),b=d[0],u=d[1],h=function(){var e=o.reduce((function(e,t){return e+t.price*t.count}),0);u({total:e})};return Object(n.useEffect)((function(){p.a.get("https://online-store-120.herokuapp.com/store/products").then((function(e){r(e.data),console.log(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(g.jsx)(f.Provider,{value:{data:a,addToCart:function(e){if(console.log(o),o.every((function(t){return t.id!==e}))){var t=a.filter((function(t){return t.id===e}));l([].concat(Object(O.a)(o),Object(O.a)(t)))}else alert("The product has been added to cart.")},cart:o,decrease:function(e){o.forEach((function(t){t._id===e&&(1===t.count?t.count=1:t.count-=1)})),l([o]),h()},increase:function(e){o.forEach((function(t){t._id===e&&(t.count+=1)})),l([o]),h()},total:b,getTotal:h,removeProduct:function(e){window.confirm("Do you want to delete this product?")&&(o.forEach((function(t,c){t._id===e&&o.splice(c,1)})),l([o]),h())}},children:e.children})},y=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){var e;Object(s.a)(this,c);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={toggle:!1},e.menuToggle=function(){e.setState({toggle:!e.state.toggle})},e}return Object(o.a)(c,[{key:"render",value:function(){var e=this.state.toggle,t=this.context.cart;return Object(g.jsxs)("div",{className:"header",children:[Object(g.jsx)("div",{className:"menu",onClick:this.menuToggle,style:{filter:"brightness(0) invert(1)"},children:Object(g.jsx)("img",{src:b,alt:"",width:"20"})}),Object(g.jsx)("div",{className:"logo",children:Object(g.jsx)("h2",{children:Object(g.jsx)(d.b,{to:"/",children:"store"})})}),Object(g.jsxs)("nav",{children:[Object(g.jsxs)("ul",{className:e?"toggle":"",onClick:this.menuToggle,children:[Object(g.jsx)("li",{children:Object(g.jsx)(d.b,{to:"/",children:"Home"})}),Object(g.jsx)("li",{children:Object(g.jsx)(d.b,{to:"/about",children:"About"})}),Object(g.jsx)("li",{children:Object(g.jsx)(d.b,{to:"/contact",children:"Contact"})}),Object(g.jsx)("li",{children:Object(g.jsx)(d.b,{to:"/login",children:"Login / Register"})}),Object(g.jsx)("li",{className:"close",onClick:this.menuToggle,children:Object(g.jsx)("img",{src:u,alt:"",style:{filter:"brightness(0) invert(1)"},width:"20"})})]}),Object(g.jsxs)("div",{className:"nav-cart",children:[Object(g.jsx)("span",{children:t.length}),Object(g.jsx)(d.b,{to:"/cart",children:Object(g.jsx)("img",{src:h,style:{filter:"brightness(0) invert(1)"},alt:"",width:"20"})})]})]})]})}}]),c}(n.Component);y.contextType=f;var C=y,S=(c(132),c(133),function(){var e=Object(n.useContext)(f),t=e.data,c=e.addToCart;return Object(g.jsx)("div",{id:"product",children:t.map((function(e){return Object(g.jsxs)("div",{className:"card",children:[Object(g.jsx)(d.b,{to:"/product/".concat(e.id),children:Object(g.jsx)("img",{src:"data:image/jpeg;base64,".concat(e.productImage[1])})}),Object(g.jsxs)("div",{className:"content",children:[Object(g.jsx)("h3",{children:Object(g.jsx)(d.b,{to:"/product/".concat(e.id),children:e.name})}),Object(g.jsx)("p",{children:e.shortDescription}),Object(g.jsxs)("span",{children:["$",e.price]}),Object(g.jsx)("br",{}),Object(g.jsx)("button",{onClick:function(){return c(e.id)},children:"Add to cart"})]})]},e.id)}))})}),N=(c(80),function(e){var t=e.match,c=(Object(n.useContext)(f).data,Object(n.useState)([]));c.product,c.setProduct;return Object(g.jsx)(g.Fragment,{children:t.params.id})}),k=c(16),w=(c(134),function(){var e=Object(n.useContext)(f),t=e.cart,c=e.increase,a=e.decrease,r=e.total,i=e.removeProduct;return 0===t.length?Object(g.jsx)("h4",{style:{textAlign:"center"},children:"No products"}):Object(g.jsxs)(g.Fragment,{children:[t.map((function(e){return Object(g.jsxs)("div",{className:"details cart",children:[Object(g.jsx)("div",{className:"cart_img",children:Object(g.jsx)("img",{src:"data:image/jpeg;base64,".concat(e.productImage[1])})}),Object(g.jsxs)("div",{className:"box",children:[Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("h2",{children:e.name}),Object(g.jsxs)("span",{children:["$",e.price*e.count]})]}),Object(g.jsx)("p",{children:e.shortDescription}),Object(g.jsxs)("p",{children:["Color: ",Object(g.jsx)("span",{children:e.color})]}),Object(g.jsx)("p",{children:e.description}),Object(g.jsxs)("div",{className:"amount",children:[Object(g.jsx)("button",{className:"count",onClick:function(){return a(e._id)},children:" - "}),Object(g.jsx)("span",{children:e.count}),Object(g.jsx)("button",{className:"count",onClick:function(){return c(e._id)},children:" + "})]})]}),Object(g.jsx)("div",{className:"delete",onClick:function(){return i(e._id)},children:Object(g.jsx)("img",{src:u,alt:"",width:"15"})})]},e.id)})),Object(g.jsxs)("div",{className:"total",children:[Object(g.jsx)(d.b,{to:"/payment",children:"Payment"}),Object(g.jsxs)("h3",{children:["Total: $",r]})]})]})}),T=c(26),q=c(149),P=c(183),E=c(190),_=c(193),L=c(199),A=c(38),W=c(67),F=c(197),I=function(e){var t=e.name,c=e.label,n=(e.required,Object(A.d)().control);return Object(g.jsx)(P.a,{item:!0,xs:12,sm:6,children:Object(g.jsx)(A.a,{control:n,name:t,render:function(e){e.field;return Object(g.jsx)(F.a,{fullWidth:!0,label:c,required:!0})}})})},B=(c(81),function(e){var t=e.next,c=Object(A.c)(),a=Object(n.useState)([]),r=Object(x.a)(a,2),i=r[0],s=r[1],o=Object(n.useState)([]),l=Object(x.a)(o,2),j=l[0],b=l[1],u=Object(n.useState)(""),h=Object(x.a)(u,2),O=h[0],m=h[1],p=Object(n.useState)({country:"",city:""}),f=Object(x.a)(p,2),v=f[0],y=f[1];Object(n.useEffect)((function(){s(W.Country.getAllCountries())}),[]);return Object(g.jsxs)("div",{value:{location:v,setLocation:y},style:{margin:"30px"},children:[Object(g.jsx)("h3",{style:{textAlign:"center"},children:"Payment"}),Object(g.jsx)(q.a,{variant:"h6",gutterBottom:!0,style:{margin:"10px 0"},children:"Shipping Address"}),Object(g.jsx)(A.b,Object(T.a)(Object(T.a)({},c),{},{children:Object(g.jsxs)("form",{onSubmit:c.handleSubmit((function(e){return t(Object(T.a)({},e))})),children:[Object(g.jsxs)(P.a,{container:!0,spacing:3,children:[Object(g.jsx)(I,{required:!0,name:"firstName",label:"First name"}),Object(g.jsx)(I,{required:!0,name:"lastName",label:"Last name"}),Object(g.jsx)(I,{required:!0,name:"address1",label:"Address"}),Object(g.jsx)(I,{required:!0,name:"email",label:"Email"}),Object(g.jsx)(I,{required:!0,name:"region",label:"Region"}),Object(g.jsx)(I,{required:!0,name:"zip",label:"ZIP / Postal code"}),Object(g.jsxs)(P.a,{item:!0,xs:12,sm:6,children:[Object(g.jsx)(E.a,{children:"Shipping Country"}),Object(g.jsx)(_.a,{required:!0,onChange:function(e){var t,c=e.target.value;m(c),b(W.City.getCitiesOfCountry(c));var n=null===(t=i.filter((function(e){return e.isoCode===c}))[0])||void 0===t?void 0:t.name;y(Object(T.a)(Object(T.a)({},v),{},{country:n,city:""}))},fullWidth:!0,labelId:"countries",id:"select",children:i.map((function(e){return Object(g.jsx)(L.a,{value:e.isoCode,children:e.name},e.isoCode)}))})]}),Object(g.jsxs)(P.a,{item:!0,xs:12,sm:6,children:[Object(g.jsx)(E.a,{children:"Select your city"}),O?Object(g.jsx)(_.a,{required:!0,onChange:function(e){y(Object(T.a)(Object(T.a)({},v),{},{city:e.target.value}))},fullWidth:!0,children:j.map((function(e){return Object(g.jsx)(L.a,{value:e.name,children:e.name},e.name+"_"+e.stateCode)}))}):""]})]}),Object(g.jsx)("br",{}),Object(g.jsxs)("div",{className:"address",style:{display:"flex",justifyContent:"space-between"},children:[Object(g.jsx)("button",{component:d.b,to:"/cart",variant:"outlined",children:"Back to Cart"}),Object(g.jsx)("button",{type:"submit",variant:"contained",color:"primary",children:"Next"})]})]})}))]})}),D=c(191),z=function(){return Object(g.jsxs)("div",{className:"payment-form",children:[Object(g.jsx)("h4",{children:"Thank you for your order!"}),Object(g.jsx)(D.a,{className:"btn",component:d.b,to:"/",variant:"contained",children:"Back to Store"})]})},U=["Shipping address","Payment details"],$=function(){var e=Object(n.useState)(0),t=Object(x.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)({}),i=Object(x.a)(r,2),s=i[0],o=i[1],l=function(e){o(e),a((function(e){return e+1}))},j=function(){return Object(g.jsx)("div",{children:"Confirmation"})},d=function(){return 0===c?Object(g.jsx)(B,{next:l}):Object(g.jsx)(z,{shippingData:s})};return Object(g.jsx)(g.Fragment,{children:c===U.length?Object(g.jsx)(j,{}):Object(g.jsx)(d,{})})},G=c(200),M=c(89),J=c.n(M),R=c(88),H=function(){return Object(g.jsx)("div",{children:Object(g.jsx)(R.GoogleLogin,{clientId:"831762358117-muirtqqiaoqt0m1co1e7gq30kt1lequc.apps.googleusercontent.com",buttonText:"Sign in with Google",onSuccess:function(e){console.log("[Login Success] currentUser:",e.profileObj)},onFailure:function(e){console.log("[Login failed] res:",e)},cookiePolicy:"single_host_origin",style:{marginTop:"100px"},isSignedIn:!0})})},Y=H,Z=(c(143),function(){var e=Object(A.c)(),t=e.register,c=e.handleSubmit;return Object(g.jsx)(P.a,{children:Object(g.jsxs)("form",{onSubmit:c((function(e){return console.log(e),fetch("http://localhost:8080/js_spring_security_check",{mode:"no-cors",method:"POST",body:e}).then((function(e){e.ok?alert("You have successfully registered! "):401==e.status&&alert("User with this email already exists.")}),(function(e){alert("Error submitting form!")}))})),className:"paperStyle",style:{margin:"0 auto"},children:[Object(g.jsxs)(P.a,{align:"center",children:[Object(g.jsx)(G.a,{style:{backgroundColor:"lightseagreen"},children:Object(g.jsx)(J.a,{})}),Object(g.jsx)("h2",{children:"Login"})]}),Object(g.jsx)(F.a,Object(T.a)(Object(T.a)({type:"email",label:"Email",placeholder:"Enter your email"},t("email",{required:!0,pattern:/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/})),{},{fullWidth:!0,required:!0})),Object(g.jsx)(F.a,Object(T.a)(Object(T.a)({type:"password",label:"Password",placeholder:"Enter your password"},t("password",{required:!0})),{},{fullWidth:!0,required:!0})),Object(g.jsx)(D.a,{type:"submit",color:"primary",variant:"contained",style:{marginTop:"8px",marginBottom:"8px"},fullWidth:!0,children:"Log in"}),Object(g.jsx)(H,{}),Object(g.jsx)(q.a,{children:Object(g.jsx)("a",{href:"#",style:{marginTop:"8px"},children:"Forget password?"})}),Object(g.jsxs)(q.a,{children:[" Do you have an account?\xa0",Object(g.jsx)(D.a,{component:d.b,to:"/signup",children:"Sign up?"})]})]})})}),K=c(195),Q=c(90),V=c.n(Q),X=c(194),ee=c(196),te=c(192),ce=c(189),ne=c(148),ae=function(){return Object(g.jsx)(P.a,{children:Object(g.jsxs)(q.a,{elevation:20,className:"paperStyle",style:{margin:"0 auto"},children:[Object(g.jsxs)(P.a,{align:"center",children:[Object(g.jsx)(G.a,{style:{backgroundColor:"lightseagreen"},children:Object(g.jsx)(V.a,{})}),Object(g.jsx)("h2",{style:{margin:"0"},children:"Sign Up"}),Object(g.jsx)(q.a,{variant:"caption",gutterBottom:!0,children:"Please fill this form to create an account"})]}),Object(g.jsxs)("form",{children:[Object(g.jsx)(F.a,{fullWidth:!0,label:"Name",placeholder:"Enter your name"}),Object(g.jsx)(F.a,{fullWidth:!0,label:"Email"}),Object(g.jsxs)(ce.a,{component:"fieldset",style:{marginTop:"5px"},children:[Object(g.jsx)(ne.a,{component:"legend",children:"Gender"}),Object(g.jsxs)(ee.a,{"aria-label":"gender",name:"gender",style:{display:"initial"},children:[Object(g.jsx)(te.a,{value:"female",control:Object(g.jsx)(X.a,{}),label:"FEMALE"}),Object(g.jsx)(te.a,{value:"male",control:Object(g.jsx)(X.a,{}),label:"MALE"})]})]}),Object(g.jsx)(F.a,{fullWidth:!0,label:"Phone Number"}),Object(g.jsx)(F.a,{fullWidth:!0,type:"password",label:"Password"}),Object(g.jsx)(F.a,{fullWidth:!0,type:"password",label:"Confirm Passord"}),Object(g.jsx)(te.a,{control:Object(g.jsx)(K.a,{name:"checkedA"}),label:"I accept the terms and conditions."}),Object(g.jsx)(D.a,{component:d.b,to:"/",type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Sign Up"}),Object(g.jsxs)(q.a,{style:{marginTop:"10px"},children:["Already have an account?\xa0",Object(g.jsx)(D.a,{component:d.b,to:"/login",children:"Log in"})]})]})]})})};var re=function(){var e=Object(n.useState)([]),t=Object(x.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){p.a.get("https://online-store-120.herokuapp.com/store/products").then((function(e){console.log(e),a(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(g.jsx)("div",{children:c.map((function(e){return Object(g.jsxs)("div",{children:[Object(g.jsx)("img",{src:"data:image/jpeg;base64,".concat(e.base64Image),width:"400px"}),Object(g.jsx)("div",{children:e.name})]},e.id)}))})};var ie=function(){return Object(g.jsx)("div",{children:Object(g.jsx)(re,{})})},se=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){return Object(s.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){return Object(g.jsxs)("section",{children:[Object(g.jsx)(k.a,{path:"/",component:S,exact:!0}),Object(g.jsx)(k.a,{path:"/product",component:S,exact:!0}),Object(g.jsx)(k.a,{path:"/product/:id",component:N}),Object(g.jsx)(k.a,{path:"/cart",component:w}),Object(g.jsx)(k.a,{path:"/payment",component:$}),Object(g.jsx)(k.a,{path:"/login",component:Z}),Object(g.jsx)(k.a,{path:"/signup",component:ae}),Object(g.jsx)(k.a,{path:"/about",component:ie}),Object(g.jsx)(k.a,{path:"/oauth2/authorization/google",component:Y})]})}}]),c}(n.Component),oe=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){return Object(s.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){return Object(g.jsx)(v,{children:Object(g.jsx)("div",{className:"app",children:Object(g.jsxs)(d.a,{children:[Object(g.jsx)(C,{}),Object(g.jsx)(se,{})]})})})}}]),c}(a.a.Component),le=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,201)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))};c(145);i.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(oe,{})}),document.getElementById("root")),le()},80:function(e,t,c){},81:function(e,t,c){}},[[146,1,2]]]);
//# sourceMappingURL=main.6a5abee5.chunk.js.map