{"ast":null,"code":"import React,{useEffect}from'react';import{Grid,Typography,Avatar,TextField,Button,Checkbox}from'@material-ui/core';import AddCircleOutlineIcon from'@material-ui/icons/AddCircleOutline';import Radio from'@material-ui/core/Radio';import RadioGroup from'@material-ui/core/RadioGroup';import FormControlLabel from'@material-ui/core/FormControlLabel';import FormControl from'@material-ui/core/FormControl';import FormLabel from'@material-ui/core/FormLabel';import{Link,useHistory}from'react-router-dom';import{Formik,Field,Form,ErrorMessage}from'formik';import{FormHelperText}from'@material-ui/core';import*as Yup from'yup';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignUp=function SignUp(){var paperStyle={margin:'0 auto'};var headerStyle={margin:'0'};var avatarStyle={backgroundColor:'lightseagreen'};var marginTop={marginTop:'5px'};var initialValues={name:'',email:'',gender:'',phoneNumber:'',password:'',confirmPassword:'',termsAndConditions:false};var history=useHistory();var validationSchema=Yup.object().shape({name:Yup.string().min(3,\"It's too short\").required(\"Required\"),email:Yup.string().email(\"Enter valid email\").required(\"Required\"),gender:Yup.string().oneOf([\"MALE\",\"FEMALE\"],\"Required\").required(\"Required\"),phoneNumber:Yup.number().typeError(\"Enter valid phone number\").required(\"Required\"),password:Yup.string().min(8,\"Password minimum length should be 8\").required(\"Required\"),confirmPassword:Yup.string().oneOf([Yup.ref(\"password\")],\"Password not matched\").required(\"Required\"),termsAndConditions:Yup.string().oneOf([\"true\"],\"Accept terms & conditions\")});var onSubmit=function onSubmit(values,props){console.log(values);console.log(props);setTimeout(function(){props.resetForm();props.setSubmitting(false);},2000);fetch('signup',{method:'POST',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(values)}).then(function(){console.log('new data added: ',values);localStorage.setItem('new data added: ',JSON.stringify(values));history.push({pathname:\"/user\",state:{values:values}});});};useEffect(function(){if(localStorage.getItem('user-info')){history.push(\"/user\");}},[]);return/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsxs(Typography,{elevation:20,className:\"paperStyle\",style:paperStyle,children:[/*#__PURE__*/_jsxs(Grid,{align:\"center\",children:[/*#__PURE__*/_jsx(Avatar,{style:avatarStyle,children:/*#__PURE__*/_jsx(AddCircleOutlineIcon,{})}),/*#__PURE__*/_jsx(\"h2\",{style:headerStyle,children:\"Sign Up\"}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",gutterBottom:true,children:\"Please fill this form to create an account\"})]}),/*#__PURE__*/_jsx(Formik,{initialValues:initialValues,validationSchema:validationSchema,onSubmit:onSubmit,children:function children(props){return/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(Field,{as:TextField,type:\"text\",name:\"name\",label:\"Name\",placeholder:\"Enter your name\",fullWidth:true,helperText:/*#__PURE__*/_jsx(ErrorMessage,{name:\"name\"})}),/*#__PURE__*/_jsx(Field,{as:TextField,type:\"email\",name:\"email\",fullWidth:true,label:\"Email\",helperText:/*#__PURE__*/_jsx(ErrorMessage,{name:\"email\"})}),/*#__PURE__*/_jsxs(FormControl,{component:\"fieldset\",style:marginTop,children:[/*#__PURE__*/_jsx(FormLabel,{component:\"legend\",children:\"Gender\"}),/*#__PURE__*/_jsxs(Field,{as:RadioGroup,\"aria-label\":\"gender\",name:\"gender\",style:{display:'initial'},children:[/*#__PURE__*/_jsx(FormControlLabel,{value:\"FEMALE\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"Female\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"MALE\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"Male\"})]})]}),/*#__PURE__*/_jsx(FormHelperText,{children:/*#__PURE__*/_jsx(ErrorMessage,{name:\"gender\"})}),/*#__PURE__*/_jsx(Field,{as:TextField,fullWidth:true,name:\"phoneNumber\",label:\"Phone Number\",helperText:/*#__PURE__*/_jsx(ErrorMessage,{name:\"phoneNumber\"})}),/*#__PURE__*/_jsx(Field,{as:TextField,fullWidth:true,name:\"password\",type:\"password\",label:\"Password\",helperText:/*#__PURE__*/_jsx(ErrorMessage,{name:\"password\"})}),/*#__PURE__*/_jsx(Field,{as:TextField,fullWidth:true,name:\"confirmPassword\",type:\"password\",label:\"Confirm Passord\",helperText:/*#__PURE__*/_jsx(ErrorMessage,{name:\"confirmPassword\"})}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Field,{as:Checkbox,name:\"termsAndConditions\"}),label:\"I accept the terms and conditions.\"}),/*#__PURE__*/_jsx(FormHelperText,{children:/*#__PURE__*/_jsx(ErrorMessage,{name:\"termsAndConditions\"})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",disabled:props.isSubmitting,color:\"primary\",fullWidth:true,children:props.isSubmitting?\"Loading\":\"Sign Up\"}),/*#__PURE__*/_jsxs(Typography,{style:{marginTop:'10px'},children:[\"Already have an account?\\xA0\",/*#__PURE__*/_jsx(Button,{component:Link,to:\"/login\",children:\"Log in\"})]})]});}})]})});};export default SignUp;","map":{"version":3,"sources":["/Users/macuser/Desktop/Project Online-store/OnlineStore/src/main/js/src/components/section/Registration/SignUp.js"],"names":["React","useEffect","Grid","Typography","Avatar","TextField","Button","Checkbox","AddCircleOutlineIcon","Radio","RadioGroup","FormControlLabel","FormControl","FormLabel","Link","useHistory","Formik","Field","Form","ErrorMessage","FormHelperText","Yup","SignUp","paperStyle","margin","headerStyle","avatarStyle","backgroundColor","marginTop","initialValues","name","email","gender","phoneNumber","password","confirmPassword","termsAndConditions","history","validationSchema","object","shape","string","min","required","oneOf","number","typeError","ref","onSubmit","values","props","console","log","setTimeout","resetForm","setSubmitting","fetch","method","headers","body","JSON","stringify","then","localStorage","setItem","push","pathname","state","getItem","display","isSubmitting"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react'\nimport { Grid, Typography, Avatar, TextField, Button, Checkbox } from '@material-ui/core'\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport { Link, useHistory } from 'react-router-dom'\nimport { Formik, Field, Form, ErrorMessage } from 'formik'\nimport { FormHelperText } from '@material-ui/core'\nimport * as Yup from 'yup'\n\nconst SignUp = () => {\n    const paperStyle = { margin: '0 auto' }\n    const headerStyle = { margin: '0' }\n    const avatarStyle = { backgroundColor: 'lightseagreen' }\n    const marginTop = { marginTop: '5px' }\n    const initialValues = {\n        name: '',\n        email: '',\n        gender: '',\n        phoneNumber: '',\n        password: '',\n        confirmPassword: '',\n        termsAndConditions: false,\n    }\n    \n    const history = useHistory();\n\n    const validationSchema = Yup.object().shape({\n        name: Yup.string().min(3, \"It's too short\").required(\"Required\"),\n        email: Yup.string().email(\"Enter valid email\").required(\"Required\"), \n        gender: Yup.string().oneOf([\"MALE\", \"FEMALE\"], \"Required\").required(\"Required\"),\n        phoneNumber: Yup.number().typeError(\"Enter valid phone number\").required(\"Required\"),\n        password: Yup.string().min(8, \"Password minimum length should be 8\").required(\"Required\"),\n        confirmPassword: Yup.string().oneOf([Yup.ref(\"password\")], \"Password not matched\").required(\"Required\"),\n        termsAndConditions: Yup.string().oneOf([\"true\"], \"Accept terms & conditions\")\n    })\n\n    const onSubmit = (values, props) => {\n        console.log(values)\n        console.log(props)\n        setTimeout(() => {\n            props.resetForm()\n            props.setSubmitting(false)\n        }, 2000)\n\n        fetch('signup', {\n            method: 'POST',\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify(values)\n        }).then(() => {\n            console.log('new data added: ', values)\n            localStorage.setItem('new data added: ', JSON.stringify(values))\n            history.push({pathname: \"/user\", state: {values: values}})\n        })\n    }\n\n    useEffect(() => {\n        if (localStorage.getItem('user-info')) {\n            history.push(\"/user\")\n        }\n    }, [])\n\n    return (\n        <Grid>\n            <Typography elevation={20} className='paperStyle' style={paperStyle}>\n                <Grid align='center'>\n                    <Avatar style={avatarStyle}>\n                        <AddCircleOutlineIcon />\n                    </Avatar>\n                    <h2 style={headerStyle}>Sign Up</h2>\n                    <Typography variant='caption' gutterBottom>Please fill this form to create an account</Typography>\n                </Grid>\n                <Formik initialValues={initialValues} validationSchema={validationSchema} onSubmit={onSubmit}>\n                    {(props) => (\n                        <Form>\n                            <Field as={TextField} type=\"text\" name=\"name\" label='Name' \n                            placeholder='Enter your name' fullWidth helperText={<ErrorMessage name=\"name\" />} />\n                            <Field as={TextField} type=\"email\" name=\"email\" fullWidth label='Email'\n                            helperText={<ErrorMessage name=\"email\" />} />\n                            <FormControl component=\"fieldset\" style={marginTop}>\n                                <FormLabel component=\"legend\">Gender</FormLabel>\n                                <Field as={RadioGroup} aria-label=\"gender\" name=\"gender\" style={{ display: 'initial' }}>\n                                    <FormControlLabel value=\"FEMALE\" control={<Radio />} label=\"Female\" />\n                                    <FormControlLabel value=\"MALE\" control={<Radio />} label=\"Male\" />\n                                </Field>\n                            </FormControl>\n                            <FormHelperText><ErrorMessage name=\"gender\" /></FormHelperText>\n                            <Field as={TextField} fullWidth name=\"phoneNumber\" label='Phone Number'\n                            helperText={<ErrorMessage name=\"phoneNumber\" />} />\n                            <Field as={TextField} fullWidth name=\"password\" type='password' label='Password' \n                            helperText={<ErrorMessage name=\"password\" />}/>\n                            <Field as={TextField} fullWidth name=\"confirmPassword\" type='password' label='Confirm Passord'\n                            helperText={<ErrorMessage name=\"confirmPassword\" />} />\n                            <FormControlLabel\n                                control={<Field as={Checkbox} name=\"termsAndConditions\" />}\n                                label=\"I accept the terms and conditions.\"\n                            />\n                            <FormHelperText><ErrorMessage name=\"termsAndConditions\" /></FormHelperText>\n                            <Button type='submit' variant='contained' disabled={props.isSubmitting} color='primary' fullWidth>{props.isSubmitting ? \"Loading\" : \"Sign Up\"}</Button>\n                            <Typography style={{ marginTop: '10px' }}>Already have an account?&nbsp;\n                            <Button component={Link} to=\"/login\">Log in</Button>\n                            </Typography>\n                        </Form>\n                    )}\n                </Formik>\n            </Typography>\n        </Grid>\n    )\n}\n\nexport default SignUp\n"]},"metadata":{},"sourceType":"module"}