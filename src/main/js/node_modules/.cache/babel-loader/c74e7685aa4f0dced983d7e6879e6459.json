{"ast":null,"code":"import React,{useContext}from'react';import{useHistory}from\"react-router-dom\";import{Button}from'react-bootstrap';import{UserContext}from'./UserProvider';import{jsx as _jsx}from\"react/jsx-runtime\";export function Logout(){var history=useHistory();var _useContext=useContext(UserContext),handleLogout=_useContext.handleLogout;var handleLogOut=function handleLogOut(e){e.preventDefault();var data={};fetch('https://online-store-120.herokuapp.com/logout',{method:'POST',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(data)}).then(function(){console.log('user-info: ',data);localStorage.setItem(\"user-info\",'');localStorage.clear();handleLogout();history.push(\"/login\");});};return/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"dark\",onClick:handleLogOut,children:\"Logout\"});}export default Logout;","map":{"version":3,"sources":["E:/проект/01.09 original/OnlineStore/src/main/js/src/components/section/Registration/Logout.js"],"names":["React","useContext","useHistory","Button","UserContext","Logout","history","handleLogout","handleLogOut","e","preventDefault","data","fetch","method","headers","body","JSON","stringify","then","console","log","localStorage","setItem","clear","push"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,MAAT,KAAuB,iBAAvB,CACA,OAASC,WAAT,KAA4B,gBAA5B,C,2CAEA,MAAO,SAASC,CAAAA,MAAT,EAAkB,CACvB,GAAIC,CAAAA,OAAO,CAAGJ,UAAU,EAAxB,CACA,gBAAuBD,UAAU,CAACG,WAAD,CAAjC,CAAOG,YAAP,aAAOA,YAAP,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAE1BA,CAAC,CAACC,cAAF,GACA,GAAMC,CAAAA,IAAI,CAAG,EAAb,CAEAC,KAAK,CAAC,+CAAD,CAAkD,CACnDC,MAAM,CAAE,MAD2C,CAEnDC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAF0C,CAGnDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf,CAH6C,CAAlD,CAAL,CAIGO,IAJH,CAIQ,UAAM,CACVC,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BT,IAA3B,EACAU,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkC,EAAlC,EACAD,YAAY,CAACE,KAAb,GACAhB,YAAY,GACZD,OAAO,CAACkB,IAAR,CAAa,QAAb,EACH,CAVD,EAWD,CAhBD,CAkBA,mBACE,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAC,MAA9B,CAAqC,OAAO,CAAEhB,YAA9C,oBADF,CAKD,CAED,cAAeH,CAAAA,MAAf","sourcesContent":["import React, {useContext} from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Button } from 'react-bootstrap'\r\nimport { UserContext } from './UserProvider'\r\n\r\nexport function Logout() {\r\n  let history = useHistory();\r\n  const {handleLogout} = useContext(UserContext)\r\n\r\n  const handleLogOut = (e) => {\r\n\r\n    e.preventDefault();\r\n    const data = {};\r\n\r\n    fetch('https://online-store-120.herokuapp.com/logout', {\r\n        method: 'POST',\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(data)\r\n    }).then(() => {\r\n        console.log('user-info: ', data)\r\n        localStorage.setItem(\"user-info\", '');\r\n        localStorage.clear();\r\n        handleLogout()\r\n        history.push(\"/login\");\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Button type='submit' variant=\"dark\" onClick={handleLogOut}>\r\n      Logout\r\n    </Button>\r\n  );\r\n}\r\n\r\nexport default Logout"]},"metadata":{},"sourceType":"module"}