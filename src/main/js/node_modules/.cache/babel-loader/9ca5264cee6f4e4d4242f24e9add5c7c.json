{"ast":null,"code":"import _slicedToArray from\"/Users/macuser/Desktop/Project Online-store/OnlineStore/src/main/js/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useHistory,useEffect}from'react';import{createContext}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export var UserContext=/*#__PURE__*/createContext();export var UserProvider=function UserProvider(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];// const history = useHistory();\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),show=_useState6[0],setShow=_useState6[1];var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){return setShow(true);};var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),forgotEmail=_useState8[0],setForgotEmail=_useState8[1];var handleSubmit=function handleSubmit(e){e.preventDefault();var data={email:email,password:password};fetch('login',{method:'POST',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(data)}).then(function(){console.log('user-info: ',data);localStorage.setItem('user-info: ',JSON.stringify(data));// history.push({ pathname: \"/user\", state: { data: data } })\n});};// useEffect(() => {\n//     if (localStorage.getItem('user-info')) {\n//         history.push(\"/user\")\n//     }\n// }, [])\nvar forgotSubmit=function forgotSubmit(e){e.preventDefault();var data={forgotEmail:forgotEmail};fetch('forgot_password',{method:'POST',headers:{\"Content-Type\":\"application/json\"},body:data}).then(function(){console.log('your email: ',data);// localStorage.setItem('user-info: ', JSON.stringify(data))\n// history.push({ pathname: \"/user\", state: { data: data } })\n});};return/*#__PURE__*/_jsx(UserContext.Provider,{value:{show:show,handleClose:handleClose,forgotSubmit:forgotSubmit,setForgotEmail:setForgotEmail,handleSubmit:handleSubmit,setEmail:setEmail,setPassword:setPassword,handleShow:handleShow},children:props.children});};","map":{"version":3,"sources":["/Users/macuser/Desktop/Project Online-store/OnlineStore/src/main/js/src/components/section/Registration/UserProvider.js"],"names":["React","useState","useHistory","useEffect","createContext","UserContext","UserProvider","props","email","setEmail","password","setPassword","show","setShow","handleClose","handleShow","forgotEmail","setForgotEmail","handleSubmit","e","preventDefault","data","fetch","method","headers","body","JSON","stringify","then","console","log","localStorage","setItem","forgotSubmit","children"],"mappings":"sJAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,UAAzB,CAAqCC,SAArC,KAAqD,OAArD,CACA,OAASC,aAAT,KAA8B,OAA9B,C,2CAEA,MAAO,IAAMC,CAAAA,WAAW,cAAGD,aAAa,EAAjC,CAEP,MAAO,IAAME,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAEnC,cAA0BN,QAAQ,CAAC,EAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eACA,eAAgCR,QAAQ,CAAC,EAAD,CAAxC,yCAAOS,QAAP,eAAiBC,WAAjB,eACA;AAEA,eAAwBV,QAAQ,CAAC,KAAD,CAAhC,yCAAOW,IAAP,eAAaC,OAAb,eAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,SAAMD,CAAAA,OAAO,CAAC,KAAD,CAAb,EAApB,CACA,GAAME,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,SAAMF,CAAAA,OAAO,CAAC,IAAD,CAAb,EAAnB,CACA,eAAsCZ,QAAQ,CAAC,EAAD,CAA9C,yCAAOe,WAAP,eAAoBC,cAApB,eAGA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CACxBA,CAAC,CAACC,cAAF,GACA,GAAMC,CAAAA,IAAI,CAAG,CAAEb,KAAK,CAALA,KAAF,CAASE,QAAQ,CAARA,QAAT,CAAb,CAEAY,KAAK,CAAC,OAAD,CAAU,CACXC,MAAM,CAAE,MADG,CAEXC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFE,CAGXC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf,CAHK,CAAV,CAAL,CAIGO,IAJH,CAIQ,UAAM,CACVC,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BT,IAA3B,EACAU,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAoCN,IAAI,CAACC,SAAL,CAAeN,IAAf,CAApC,EACA;AACH,CARD,EASH,CAbD,CAeA;AACA;AACA;AACA;AACA;AAEA,GAAMY,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACd,CAAD,CAAO,CACxBA,CAAC,CAACC,cAAF,GACA,GAAMC,CAAAA,IAAI,CAAG,CAAEL,WAAW,CAAXA,WAAF,CAAb,CAEAM,KAAK,CAAC,iBAAD,CAAoB,CACrBC,MAAM,CAAE,MADa,CAErBC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFY,CAGrBC,IAAI,CAAEJ,IAHe,CAApB,CAAL,CAIGO,IAJH,CAIQ,UAAM,CACVC,OAAO,CAACC,GAAR,CAAY,cAAZ,CAA4BT,IAA5B,EACA;AACA;AACH,CARD,EASH,CAbD,CAeA,mBACI,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAE,CAACT,IAAI,CAAJA,IAAD,CAAOE,WAAW,CAAXA,WAAP,CAAoBmB,YAAY,CAAZA,YAApB,CAAkChB,cAAc,CAAdA,cAAlC,CAAkDC,YAAY,CAAZA,YAAlD,CAAgET,QAAQ,CAARA,QAAhE,CAA0EE,WAAW,CAAXA,WAA1E,CAAuFI,UAAU,CAAVA,UAAvF,CAA7B,UACGR,KAAK,CAAC2B,QADT,EADJ,CAKH,CAtDM","sourcesContent":["import React, {useState, useHistory, useEffect} from 'react'\nimport { createContext } from 'react'\n\nexport const UserContext = createContext()\n\nexport const UserProvider = (props) => {\n\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\")\n    // const history = useHistory();\n\n    const [show, setShow] = useState(false);\n\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n    const [forgotEmail, setForgotEmail] = useState(\"\")\n\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const data = { email, password };\n\n        fetch('login', {\n            method: 'POST',\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify(data)\n        }).then(() => {\n            console.log('user-info: ', data)\n            localStorage.setItem('user-info: ', JSON.stringify(data))\n            // history.push({ pathname: \"/user\", state: { data: data } })\n        })\n    }\n\n    // useEffect(() => {\n    //     if (localStorage.getItem('user-info')) {\n    //         history.push(\"/user\")\n    //     }\n    // }, [])\n\n    const forgotSubmit = (e) => {\n        e.preventDefault();\n        const data = { forgotEmail };\n\n        fetch('forgot_password', {\n            method: 'POST',\n            headers: { \"Content-Type\": \"application/json\" },\n            body: data\n        }).then(() => {\n            console.log('your email: ', data)\n            // localStorage.setItem('user-info: ', JSON.stringify(data))\n            // history.push({ pathname: \"/user\", state: { data: data } })\n        })\n    }\n\n    return (\n        <UserContext.Provider value={{show, handleClose, forgotSubmit, setForgotEmail, handleSubmit, setEmail, setPassword, handleShow }}>\n          {props.children}\n        </UserContext.Provider>\n      );\n}"]},"metadata":{},"sourceType":"module"}