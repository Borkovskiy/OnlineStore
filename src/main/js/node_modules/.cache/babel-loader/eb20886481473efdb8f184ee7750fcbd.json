{"ast":null,"code":"var _jsxFileName = \"/Users/macuser/Desktop/Project Online-store/OnlineStore/src/main/js/src/components/section/Registration/Logout.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { Button } from 'react-bootstrap';\nimport { UserContext } from './UserProvider';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Logout() {\n  _s();\n\n  let history = useHistory(); // const data = useContext(UserContext)\n\n  const data = useContext(UserContext);\n\n  const handleLogOut = e => {\n    e.preventDefault();\n    const data = {};\n    fetch('https://online-store-120.herokuapp.com/logout', {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    }).then(() => {\n      console.log('user-info: ', data);\n      localStorage.setItem(\"user-info\", '');\n      localStorage.clear();\n      data.handleLogout();\n      history.push(\"/login\");\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Button, {\n    type: \"submit\",\n    variant: \"dark\",\n    onClick: handleLogOut,\n    children: \"Logout\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Logout, \"XeBJMKUeq5QQGB/TqBDIE9HByB8=\", false, function () {\n  return [useHistory];\n});\n\n_c = Logout;\nexport default Logout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Logout\");","map":{"version":3,"sources":["/Users/macuser/Desktop/Project Online-store/OnlineStore/src/main/js/src/components/section/Registration/Logout.js"],"names":["React","useContext","useHistory","Button","UserContext","Logout","history","data","handleLogOut","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","console","log","localStorage","setItem","clear","handleLogout","push"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,UAAf,QAAgC,OAAhC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,SAASC,WAAT,QAA4B,gBAA5B;;AAEA,OAAO,SAASC,MAAT,GAAkB;AAAA;;AACvB,MAAIC,OAAO,GAAGJ,UAAU,EAAxB,CADuB,CAEvB;;AACA,QAAMK,IAAI,GAAGN,UAAU,CAACG,WAAD,CAAvB;;AAEA,QAAMI,YAAY,GAAIC,CAAD,IAAO;AAE1BA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMH,IAAI,GAAG,EAAb;AAEAI,IAAAA,KAAK,CAAC,+CAAD,EAAkD;AACnDC,MAAAA,MAAM,EAAE,MAD2C;AAEnDC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OAF0C;AAGnDC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,IAAf;AAH6C,KAAlD,CAAL,CAIGU,IAJH,CAIQ,MAAM;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BZ,IAA3B;AACAa,MAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkC,EAAlC;AACAD,MAAAA,YAAY,CAACE,KAAb;AACAf,MAAAA,IAAI,CAACgB,YAAL;AACAjB,MAAAA,OAAO,CAACkB,IAAR,CAAa,QAAb;AACH,KAVD;AAWD,GAhBD;;AAkBA,sBACE,QAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,OAAO,EAAC,MAA9B;AAAqC,IAAA,OAAO,EAAEhB,YAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;GA5BeH,M;UACAH,U;;;KADAG,M;AA8BhB,eAAeA,MAAf","sourcesContent":["import React, {useContext} from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { Button } from 'react-bootstrap'\nimport { UserContext } from './UserProvider'\n\nexport function Logout() {\n  let history = useHistory();\n  // const data = useContext(UserContext)\n  const data = useContext(UserContext)\n\n  const handleLogOut = (e) => {\n\n    e.preventDefault();\n    const data = {};\n\n    fetch('https://online-store-120.herokuapp.com/logout', {\n        method: 'POST',\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(data)\n    }).then(() => {\n        console.log('user-info: ', data)\n        localStorage.setItem(\"user-info\", '');\n        localStorage.clear();\n        data.handleLogout()\n        history.push(\"/login\");\n    })\n  }\n\n  return (\n    <Button type='submit' variant=\"dark\" onClick={handleLogOut}>\n      Logout\n    </Button>\n  );\n}\n\nexport default Logout"]},"metadata":{},"sourceType":"module"}