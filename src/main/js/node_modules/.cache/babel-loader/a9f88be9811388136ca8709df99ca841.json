{"ast":null,"code":"import _regeneratorRuntime from\"/Users/macuser/Desktop/Project Online-store/OnlineStore/src/main/js/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/macuser/Desktop/Project Online-store/OnlineStore/src/main/js/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/macuser/Desktop/Project Online-store/OnlineStore/src/main/js/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from'react';import{DataContext}from'../DataProvider';import{Link,useParams}from'react-router-dom';import'../css/Details.css';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Details=function Details(props){var _useContext=useContext(DataContext),addToCart=_useContext.addToCart;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),index=_useState6[0],setIndex=_useState6[1];var _useParams=useParams(),id=_useParams.id;var myRef=/*#__PURE__*/React.createRef();useEffect(function(){function getProduct(){return _getProduct.apply(this,arguments);}function _getProduct(){_getProduct=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios(\"https://online-store-120.herokuapp.com/store/products/\".concat(id));case 2:result=_context.sent;console.log(result);setProduct(result.data);setLoading(false);case 6:case\"end\":return _context.stop();}}},_callee);}));return _getProduct.apply(this,arguments);}if(id)getProduct();},[id]);if(isLoading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}var handleTab=function handleTab(index){setIndex(index);var images=myRef.current.children;for(var i=0;i<images.length;i++){images[i].className=images[i].className.replace(\"active\",\"\");}images[index].className=\"active\";};var name=product.name,color=product.color,shortDescription=product.shortDescription,price=product.price,description=product.description,productImage=product.productImage;console.log(product);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product_img\",children:/*#__PURE__*/_jsx(\"img\",{src:\"data:image/jpeg;base64,\".concat(productImage[1])})}),/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"h2\",{children:name}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",price]})]}),/*#__PURE__*/_jsx(\"p\",{children:shortDescription}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Color: \",/*#__PURE__*/_jsx(\"span\",{children:color})]}),/*#__PURE__*/_jsx(\"p\",{children:description}),/*#__PURE__*/_jsx(Link,{to:\"/cart\",className:\"cart\",onClick:function onClick(){return addToCart(+id);},children:\"Add to cart\"})]})]},id)});};export default Details;","map":{"version":3,"sources":["/Users/macuser/Desktop/Project Online-store/OnlineStore/src/main/js/src/components/section/Details.js"],"names":["React","useContext","useState","useEffect","DataContext","Link","useParams","axios","Details","props","addToCart","product","setProduct","isLoading","setLoading","index","setIndex","id","myRef","createRef","getProduct","result","console","log","data","handleTab","images","current","children","i","length","className","replace","name","color","shortDescription","price","description","productImage"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react'\nimport { DataContext } from '../DataProvider'\nimport { Link, useParams } from 'react-router-dom'\nimport '../css/Details.css'\nimport axios from 'axios';\n\nconst Details = (props) => {\n    const { addToCart } = useContext(DataContext)\n    const [product, setProduct] = useState([]);\n    const [isLoading, setLoading] = useState(true);\n    const [index, setIndex] = useState(0)\n\n    const { id } = useParams();\n\n    const myRef = React.createRef();\n\n    useEffect(() => {\n        async function getProduct() {\n            const result = await axios(\n                `https://online-store-120.herokuapp.com/store/products/${id}`\n            );\n            console.log(result);\n            setProduct(result.data);\n            setLoading(false)\n        }\n        if (id) getProduct();\n    }, [id]);\n\n    if (isLoading) {\n        return <div>Loading...</div>\n    }\n\n    const handleTab = index => {\n        setIndex(index);\n        const images = myRef.current.children;\n        for(let i =0; i < images.length; i++) {\n            images[i].className = images[i].className.replace(\"active\", \"\")\n        }\n        images[index].className = \"active\";\n    };\n\n    const {\n        name, color, shortDescription, price, description, productImage\n    } = product;\n    console.log(product)\n\n\n    return (\n        <>\n            <div className=\"details\" key={id}>\n                <div className=\"product_img\">\n                    <img src={`data:image/jpeg;base64,${productImage[1]}`} />\n                </div>\n                <div className=\"box\">\n                    <div className=\"row\">\n                        <h2>{name}</h2>\n                        <span>${price}</span>\n                    </div>\n                    <p>{shortDescription}</p>\n                    <p>Color: <span>{color}</span></p>\n                    <p>{description}</p>\n                    {/* <div className=\"images\">\n                        {\n                            productImage.map((img, index) => (\n                                <img src={`data:image/jpeg;base64,${productImage}`} alt=\"\" key={index}\n                                    onClick={() => handleTab(index)}\n                                />\n                            ))\n                        }\n                    </div> */}\n                    <Link to=\"/cart\" className=\"cart\" onClick={() => addToCart(+id)}>\n                        Add to cart\n                    </Link>\n                </div>\n            </div>\n\n        </>\n    )\n}\n\nexport default Details\n"]},"metadata":{},"sourceType":"module"}