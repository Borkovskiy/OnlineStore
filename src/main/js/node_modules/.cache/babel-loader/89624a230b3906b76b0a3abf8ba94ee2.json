{"ast":null,"code":"var _jsxFileName = \"E:\\\\\\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\\\23.08.2021\\\\OnlineStore\\\\src\\\\main\\\\js\\\\src\\\\components\\\\section\\\\Registration\\\\Logout.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { Button } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Logout() {\n  _s();\n\n  let history = useHistory();\n\n  const handleLogOut = e => {\n    localStorage.setItem(\"user-info\", '');\n    localStorage.clear();\n    history.push(\"/login\");\n    e.preventDefault();\n    const data = {};\n    fetch('logout', {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    }).then(() => {\n      console.log('user-info: ', data); // localStorage.setItem('user-info: ', JSON.stringify(data))\n      // history.push({ pathname: \"/login\", state: { data: data } })\n\n      localStorage.setItem(\"user-info\", '');\n      localStorage.clear();\n      history.push(\"/login\");\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Button, {\n    type: \"submit\",\n    variant: \"dark\",\n    onClick: handleLogOut,\n    children: \"Logout\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Logout, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n  return [useHistory];\n});\n\n_c = Logout;\nexport default Logout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Logout\");","map":{"version":3,"sources":["E:/проект/23.08.2021/OnlineStore/src/main/js/src/components/section/Registration/Logout.js"],"names":["React","useHistory","Button","Logout","history","handleLogOut","e","localStorage","setItem","clear","push","preventDefault","data","fetch","method","headers","body","JSON","stringify","then","console","log"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,MAAT,QAAuB,iBAAvB;;AAEA,OAAO,SAASC,MAAT,GAAkB;AAAA;;AACvB,MAAIC,OAAO,GAAGH,UAAU,EAAxB;;AAEA,QAAMI,YAAY,GAAIC,CAAD,IAAO;AAC1BC,IAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkC,EAAlC;AACAD,IAAAA,YAAY,CAACE,KAAb;AACAL,IAAAA,OAAO,CAACM,IAAR,CAAa,QAAb;AAEAJ,IAAAA,CAAC,CAACK,cAAF;AACA,UAAMC,IAAI,GAAG,EAAb;AAEAC,IAAAA,KAAK,CAAC,QAAD,EAAW;AACZC,MAAAA,MAAM,EAAE,MADI;AAEZC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OAFG;AAGZC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf;AAHM,KAAX,CAAL,CAIGO,IAJH,CAIQ,MAAM;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BT,IAA3B,EADU,CAEV;AACA;;AACAL,MAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkC,EAAlC;AACAD,MAAAA,YAAY,CAACE,KAAb;AACAL,MAAAA,OAAO,CAACM,IAAR,CAAa,QAAb;AACH,KAXD;AAYD,GApBD;;AAsBA,sBACE,QAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,OAAO,EAAC,MAA9B;AAAqC,IAAA,OAAO,EAAEL,YAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;GA9BeF,M;UACAF,U;;;KADAE,M;AAgChB,eAAeA,MAAf","sourcesContent":["import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Button } from 'react-bootstrap'\r\n\r\nexport function Logout() {\r\n  let history = useHistory();\r\n\r\n  const handleLogOut = (e) => {\r\n    localStorage.setItem(\"user-info\", '');\r\n    localStorage.clear();\r\n    history.push(\"/login\");\r\n\r\n    e.preventDefault();\r\n    const data = {};\r\n\r\n    fetch('logout', {\r\n        method: 'POST',\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(data)\r\n    }).then(() => {\r\n        console.log('user-info: ', data)\r\n        // localStorage.setItem('user-info: ', JSON.stringify(data))\r\n        // history.push({ pathname: \"/login\", state: { data: data } })\r\n        localStorage.setItem(\"user-info\", '');\r\n        localStorage.clear();\r\n        history.push(\"/login\");\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Button type='submit' variant=\"dark\" onClick={handleLogOut}>\r\n      Logout\r\n    </Button>\r\n  );\r\n}\r\n\r\nexport default Logout"]},"metadata":{},"sourceType":"module"}