{"ast":null,"code":"import _slicedToArray from\"E:/\\u043F\\u0440\\u043E\\u0435\\u043A\\u0442/22.08.2021/OnlineStore/src/main/js/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from'react';import{Link}from'react-router-dom';import{DataContext}from'../DataProvider';import'../css/Products.css';import{CarouselList}from'./CarouselList';import{PaginationButtons}from'./Pagination';import{ModalCart}from'./Modals/ModalCart';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductList=function ProductList(){var _useContext=useContext(DataContext),data=_useContext.data,addToCart=_useContext.addToCart,handlePageChange=_useContext.handlePageChange,currentPage=_useContext.currentPage;var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),scroll=_React$useState2[0],setScroll=_React$useState2[1];var handleScroll=function handleScroll(){setScroll(window.scrollY);};var handleUpButton=function handleUpButton(){window.scrollTo(0,0);};React.useEffect(function(){window.addEventListener(\"scroll\",handleScroll);return function(){return window.removeEventListener(\"scroll\",handleScroll);};},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"onTop\",children:/*#__PURE__*/_jsx(\"button\",{className:scroll<300?\"\":\"show\",onClick:handleUpButton,children:\"Go Up\"})}),/*#__PURE__*/_jsx(CarouselList,{}),/*#__PURE__*/_jsx(\"div\",{id:\"product\",children:data.map(function(product){return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(Link,{to:\"/products/\".concat(product.id),children:/*#__PURE__*/_jsx(\"img\",{src:\"data:image/jpeg;base64,\".concat(product.productImage[0])})}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsx(Link,{to:\"/products/\".concat(product.id),children:product.name})}),/*#__PURE__*/_jsx(\"p\",{children:product.shortDescription}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",product.price]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return addToCart(product.id);},children:\"Add to cart\"})]})]},product.id);})}),/*#__PURE__*/_jsx(PaginationButtons,{handlePageChange:handlePageChange,page:currentPage})]});};export default ProductList;","map":{"version":3,"sources":["E:/проект/22.08.2021/OnlineStore/src/main/js/src/components/section/ProductList.js"],"names":["React","useContext","useState","useEffect","Link","DataContext","CarouselList","PaginationButtons","ModalCart","ProductList","data","addToCart","handlePageChange","currentPage","scroll","setScroll","handleScroll","window","scrollY","handleUpButton","scrollTo","addEventListener","removeEventListener","map","product","id","productImage","name","shortDescription","price"],"mappings":"6JAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,WAAT,KAA4B,iBAA5B,CACA,MAAO,qBAAP,CACA,OAASC,YAAT,KAA6B,gBAA7B,CACA,OAASC,iBAAT,KAAkC,cAAlC,CACA,OAASC,SAAT,KAA0B,oBAA1B,C,6IAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtB,gBAA2DR,UAAU,CAACI,WAAD,CAArE,CAAQK,IAAR,aAAQA,IAAR,CAAcC,SAAd,aAAcA,SAAd,CAAyBC,gBAAzB,aAAyBA,gBAAzB,CAA2CC,WAA3C,aAA2CA,WAA3C,CACA,oBAA4Bb,KAAK,CAACE,QAAN,CAAe,CAAf,CAA5B,oDAAOY,MAAP,qBAAeC,SAAf,qBAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvBD,SAAS,CAACE,MAAM,CAACC,OAAR,CAAT,CACH,CAFD,CAIA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CACzBF,MAAM,CAACG,QAAP,CAAgB,CAAhB,CAAmB,CAAnB,EACH,CAFD,CAIApB,KAAK,CAACG,SAAN,CAAgB,UAAM,CAClBc,MAAM,CAACI,gBAAP,CAAwB,QAAxB,CAAkCL,YAAlC,EACA,MAAO,kBAAMC,CAAAA,MAAM,CAACK,mBAAP,CAA2B,QAA3B,CAAqCN,YAArC,CAAN,EAAP,CACH,CAHD,CAGG,EAHH,EAKA,mBACI,wCACI,YAAK,SAAS,CAAC,OAAf,uBACA,eACI,SAAS,CAAEF,MAAM,CAAG,GAAT,CAAe,EAAf,CAAoB,MADnC,CAEI,OAAO,CAAEK,cAFb,mBADA,EADJ,cASI,KAAC,YAAD,IATJ,cAUI,YAAK,EAAE,CAAC,SAAR,UAEQT,IAAI,CAACa,GAAL,CAAS,SAAAC,OAAO,qBACZ,aAAK,SAAS,CAAC,MAAf,wBACI,KAAC,IAAD,EAAM,EAAE,qBAAeA,OAAO,CAACC,EAAvB,CAAR,uBACI,YAAK,GAAG,kCAA4BD,OAAO,CAACE,YAAR,CAAqB,CAArB,CAA5B,CAAR,EADJ,EADJ,cAII,aAAK,SAAS,CAAC,SAAf,wBACI,iCACI,KAAC,IAAD,EAAM,EAAE,qBAAeF,OAAO,CAACC,EAAvB,CAAR,UAAsCD,OAAO,CAACG,IAA9C,EADJ,EADJ,cAII,mBAAIH,OAAO,CAACI,gBAAZ,EAJJ,cAKI,4BAAQJ,OAAO,CAACK,KAAhB,GALJ,cAKiC,aALjC,cAMI,eAAQ,OAAO,CAAE,yBAAMlB,CAAAA,SAAS,CAACa,OAAO,CAACC,EAAT,CAAf,EAAjB,yBANJ,GAJJ,GAA2BD,OAAO,CAACC,EAAnC,CADY,EAAhB,CAFR,EAVJ,cA6BI,KAAC,iBAAD,EACI,gBAAgB,CAAEb,gBADtB,CAEI,IAAI,CAAEC,WAFV,EA7BJ,GADJ,CAoCH,CArDD,CAuDA,cAAeJ,CAAAA,WAAf","sourcesContent":["import React, { useContext, useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { DataContext } from '../DataProvider'\r\nimport '../css/Products.css'\r\nimport { CarouselList } from './CarouselList'\r\nimport { PaginationButtons } from './Pagination'\r\nimport { ModalCart } from './Modals/ModalCart'\r\n\r\nconst ProductList = () => {\r\n    const { data, addToCart, handlePageChange, currentPage } = useContext(DataContext)\r\n    const [scroll, setScroll] = React.useState(0);\r\n\r\n    const handleScroll = () => {\r\n        setScroll(window.scrollY);\r\n    };\r\n\r\n    const handleUpButton = () => {\r\n        window.scrollTo(0, 0);\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        window.addEventListener(\"scroll\", handleScroll);\r\n        return () => window.removeEventListener(\"scroll\", handleScroll);\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"onTop\">\r\n            <button\r\n                className={scroll < 300 ? \"\" : \"show\"}\r\n                onClick={handleUpButton}>\r\n                Go Up\r\n            </button>\r\n            </div>\r\n\r\n            <CarouselList />\r\n            <div id=\"product\">\r\n                {\r\n                    data.map(product => (\r\n                        <div className=\"card\" key={product.id}>\r\n                            <Link to={`/products/${product.id}`}>\r\n                                <img src={`data:image/jpeg;base64,${product.productImage[0]}`} />\r\n                            </Link>\r\n                            <div className=\"content\">\r\n                                <h3>\r\n                                    <Link to={`/products/${product.id}`}>{product.name}</Link>\r\n                                </h3>\r\n                                <p>{product.shortDescription}</p>\r\n                                <span>${product.price}</span><br />\r\n                                <button onClick={() => addToCart(product.id)}>Add to cart</button>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div>\r\n            <PaginationButtons\r\n                handlePageChange={handlePageChange}\r\n                page={currentPage}\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ProductList;\r\n\r\n"]},"metadata":{},"sourceType":"module"}